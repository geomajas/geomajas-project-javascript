<html>
<!--
		  ~ This is part of Geomajas, a GIS framework, http://www.geomajas.org/.
		  ~
		  ~ Copyright 2008-2014 Geosparc nv, http://www.geosparc.com/, Belgium.
		  ~
		  ~ The program is available in open source according to the GNU Affero
		  ~ General Public License. All contributions in this program are covered
		  ~ by the Geomajas Contributors License Agreement. For full licensing
		  ~ details, see LICENSE.txt in the project root.
		  -->
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />

	<title>Geomajas Javascript API Showcase</title>
	<link type="text/css" rel="stylesheet" href="geomajas.css" />

	<script type="text/javascript" language="javascript" src="../serverExtension/serverExtension.nocache.js"></script>

	<script type="text/javascript">

		var map;
		var endpoint;

		function onGeomajasLoad() {

			map = new gm.Map("js-map-element");
			gm.ServerExtension.initializeMap(map, "app", "mapMain");

			endpoint  = new gm.service.EndPointService(gm.ServerExtension);

			var log = document.getElementById("log");
			log.innerHTML += "CommandServiceUrl: " + endpoint.getCommandServiceUrl() + "</br>";
			log.innerHTML += "LegendServiceUrl: " + endpoint.getLegendServiceUrl() + "</br>";
			log.innerHTML += "DispatcherUrl: " + endpoint.getDispatcherUrl() + "</br>";
		}

	</script>
</head>

<body>
	<div class="titleBar">
		<div class="title">Geomajas JavaScript API test</div>
		<div class="subtitle">This example uses an empty GWT application - JavaScript only</div>
	</div>
	<div>
		<table cellspacing="0" cellpadding="5">
			<tr>
				<td style="width: 640px;">
					<div id="js-map-element" style="width: 640px; height: 480px; border: 1px solid #337428;">
						<!-- on load, the map is attached here -->
					</div>
				</td>
				<td valign="top">
					<h2>EndPoint service example</h2>

					<h4>Get/Set the endpoint url's</h4>

					In this example we are getting the endpoint service url's.<br>

					<div id=log><h4>The url's will be logged here:</h4></div>
				</td>
			</tr>
		</table>
	</div>
</body>

</html>